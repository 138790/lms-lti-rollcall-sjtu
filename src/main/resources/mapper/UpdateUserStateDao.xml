<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lmsltirollcallsjtu.common.dao.UpdateStateDao">
    <!--学生签到插入学生信息-->
	<update id="updateUserStateBySignRecordsDto" parameterType="com.lmsltirollcallsjtu.common.bean.dto.SignRecordsDto">
            update sign_records
        <set>
            <if test="id!=null and id!=''">
                id=#{id},
            </if>
            <if test="rollcallCode!=null and rollcallCode!=''">
                rollcall_code=#{rollcallCode},
            </if>
            <if test="openId!=null and openId!=''">
                open_id=#{openId},
            </if>
            <if test="createdBy!=null and createdBy!=''">
                created_by=#{createdBy},
            </if>
            <if test="updatedBy!=null and updatedBy!=''">
                updated_by=#{updatedBy},
            </if>
            <if test="state!=null and state!=''">
                state=#{state},
            </if>
        </set>
        where user_code=#{userCode}
	</update>
   <!-- update sign_records
    set id=#{id},
    rollcall_code=#{rollcallCode},
    open_id=#{openId},
    created_by=#{createdBy},
    created_date=now(),
    updated_by=#{updatedBy},
    updated_date=now(),
    state=#{state}
    where user_code=#{userCode}-->
</mapper>
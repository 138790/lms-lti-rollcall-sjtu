<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lmsltirollcallsjtu.common.dao.SignHistoriesDao">
    <!--根据点名id查询签到历史-->
	<resultMap id="signHistories"
			   type="com.lmsltirollcallsjtu.common.bean.po.SignHistories">
		<!--<id property="id" column="id"/>
		<result property="userId" column="user_id"/>
		<result property="courseId" column="course_id"/>
		<result property="sectionIds" column="section_ids"/>
		<result property="attendancesCount" column="attendances_count"/>
		<result property="insertedAt" column="inserted_at"/>
		<result property="updatedAt" column="updatedAt"/>-->
		<collection property="sectionIds"
					ofType="java.lang.Integer">
		</collection>
	</resultMap>
    <select id="selectSignHistoryByRollcallId"
			resultMap="signHistories">
		select section_ids,
		       attendances_count,
		       inserted_at
		from rollcall_sign_histories
		where id=#{id}
	</select>
</mapper>